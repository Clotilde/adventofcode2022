<html>
<style>
pre { margin: 1em; border: 1px solid #ccc; background-color: #efefef; padding: 1em; font-family: monospace;}
</style>
<body>
<pre>    [D]
[N] [C]
[Z] [M] [P]
 1   2   3

move 1 from 2 to 1
move 3 from 1 to 3
move 2 from 2 to 1
move 1 from 1 to 2</pre>


<script	src="https://code.jquery.com/jquery-3.1.1.min.js"
		integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
		crossorigin="anonymous"></script>
<script>
$(document).ready(function() {	
	// transform columns into rows
	// levels nb
	// var levels = $("pre").text().split("\n\n")[0].split("\n").length - 1
	// stacks nb // 9 in full input
	// var stacks = $("pre").text().split("\n\n")[0].split("\n")[levels].split("   ").length
	var stack1 = ["coucou", "bibi", "lolo"]
	console.log(stack1)

	var instructionsNb = $("pre").text().split("\n\n")[1].split("\n").length
	var instructions = []

	for (var a=0; a<instructionsNb; a++) {
		var quantity = $("pre").text().split("\n\n")[1].split("\n")[a].split(" ")[1]
		var origin = $("pre").text().split("\n\n")[1].split("\n")[a].split(" ")[3]
		var target = $("pre").text().split("\n\n")[1].split("\n")[a].split(" ")[5]
		instructions.push({quantity, origin, target})
	}

	for (var b=0; b<instructionsNb; b++) {
		console.log("instruction " + b + " - Quantity: " +instructions[b].quantity)
		for (var c=0; c<instructions[b].quantity; c++) { // loop on lines nb
			console.log("    ligne " + c + ": " + $("pre").text().split("\n\n")[0].split("\n")[c])
		}
	}

	console.log(instructions)

	//console.log("—————————————————")
	//console.log("Result: " )
	//console.log("—————————————————")

});

</script>
</body>
</html>